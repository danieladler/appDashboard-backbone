<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>appDash - backbone</title>
  </head>
  <body>
    <script src="https://code.jquery.com/jquery-2.2.4.js"></script>
    <script src="./js/lib/underscore.js"></script>
    <script src="./js/lib/backbone.js"></script>
    <div id="app-container">here</div>
  </body>
</html>

<script>
  // Models
  var AppType = Backbone.Model.extend({
    defaults: {
      name: "",
      url: "",
      type: "",
    },
    // listeners are in initalize
    initialize: function(){
      console.log(this.attributes.name, "has been initialized");
      this.on('invalid', function(model, error){
        console.log(error);
      });
    },
    // validations
    validate: function(attrs,opts){
      if(attrs.name === "" || attrs.url === ""){
        return "This field cannot be blank"
      }
    }
  });

  // Collections
  var AppColl = Backbone.Collection.extend({
    model: AppType
  });

  // instantiate the apps
  var jira = new AppType({name: "Jira", url: "http://modusoperandi.atlassian.net/secure/Dashboard.jspa"});
  var conf = new AppType({name: "Confluence", url: "https://modusoperandi.atlassian.net/wiki/"});
  var hip  = new AppType({name: "HipChat", url: "https://modop.hipchat.com/home"});
  // instantiate the collection of apps
  var appTypes = new AppColl([jira, conf, hip]);

</script>
